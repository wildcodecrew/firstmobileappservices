{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _readOnlyError from \"@babel/runtime/helpers/readOnlyError\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/head/Desktop/\\u0421\\u0435\\u0440\\u0435\\u0433\\u0430 \\u041C\\u043B\\u0430\\u0434\\u0448\\u0438\\u0439/ITProjects/firstmobileappservices/client/screens/HomeScreen.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, useState, useEffect } from 'react';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport _ from \"lodash\";\nimport { Categories } from \"../data/Categories\";\nimport { Cards } from \"../data/Cards\";\nimport { CategoryItem } from \"../components/CategoryItem\";\nimport { CardItem } from \"../components/CardItem\";\nimport { Audio } from 'expo-av';\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  item: {\n    backgroundColor: '#c2e3ff',\n    padding: 20,\n    height: 10,\n    marginVertical: 8,\n    marginHorizontal: 16\n  },\n  title: {\n    fontSize: 12\n  }\n});\nexport var HomeScreen = function (_Component) {\n  _inherits(HomeScreen, _Component);\n\n  var _super = _createSuper(HomeScreen);\n\n  function HomeScreen(props) {\n    var _this;\n\n    _classCallCheck(this, HomeScreen);\n\n    _this = _super.call(this, props);\n\n    _this.onCatPress = function (item) {\n      console.log('onCatPress');\n\n      _this.setState({\n        catSelect: item.key\n      });\n\n      console.log(_this.state);\n    };\n\n    _this.onCardPress = function _callee2(item) {\n      var _useState, _useState2, notify, setSound, shelf, music;\n\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _useState = useState(null), _useState2 = _slicedToArray(_useState, 2), notify = _useState2[0], setSound = _useState2[1];\n              console.log('onCardPress');\n              shelf = _this.state.shelf;\n              shelf.push(item);\n\n              _this.setState({\n                shelf: shelf\n              });\n\n              console.log(_this.state.shelf);\n              if (item.sound != null) music = item.sound;else music = '../../sounds/nosound.wav';\n              useEffect(function _callee() {\n                return _regeneratorRuntime.async(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return _regeneratorRuntime.awrap(Audio.Sound.createAsync({\n                          uri: music\n                        }));\n\n                      case 2:\n                        _readOnlyError(\"notify\");\n\n                        setSound(notify);\n                        _context.next = 6;\n                        return _regeneratorRuntime.awrap(notify.asyncPlay());\n\n                      case 6:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              });\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.renderCat = function (_ref) {\n      var item = _ref.item;\n      return React.createElement(CategoryItem, {\n        category: item,\n        onPress: _this.onCatPress.bind(_assertThisInitialized(_this), item),\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      });\n    };\n\n    _this.renderCard = function (_ref2) {\n      var item = _ref2.item;\n      return React.createElement(CardItem, {\n        card: item,\n        onPress: _this.onCardPress.bind(_assertThisInitialized(_this), item),\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      });\n    };\n\n    _this.render = function () {\n      var sortedCat = _.filter(Cards, {\n        'categorie': _this.state.catSelect\n      });\n\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 1\n        }\n      }, React.createElement(Text, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 5\n        }\n      }, \"\\u0413\\u043B\\u0430\\u0432\\u043D\\u044B\\u0439 \\u044D\\u043A\\u0440\\u0430\\u043D\"), React.createElement(View, {\n        style: styles.container,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 5\n        }\n      }, React.createElement(FlatList, {\n        data: _this.state.shelf,\n        renderItem: _this.renderCard,\n        keyExtractor: function keyExtractor(item) {\n          return item.id.toString();\n        },\n        onPress: _this.onCatPress.bind(_assertThisInitialized(_this)),\n        horizontal: true,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      })), React.createElement(View, {\n        style: styles.container,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 5\n        }\n      }, React.createElement(FlatList, {\n        data: sortedCat,\n        renderItem: _this.renderCard,\n        keyExtractor: function keyExtractor(item) {\n          return item.id.toString();\n        },\n        onPress: _this.onCatPress.bind(_assertThisInitialized(_this)),\n        horizontal: true,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }\n      })), React.createElement(View, {\n        style: styles.container,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 5\n        }\n      }, React.createElement(FlatList, {\n        data: Categories,\n        renderItem: _this.renderCat,\n        keyExtractor: function keyExtractor(item) {\n          return item.key.toString();\n        },\n        onPress: _this.onCatPress.bind(_assertThisInitialized(_this)),\n        horizontal: true,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }\n      })), React.createElement(Button, {\n        title: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438 \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u0435\\u043A\",\n        onPress: function onPress() {\n          return _this.props.navigation.push('Categories');\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 5\n        }\n      }));\n    };\n\n    _this.state = {\n      catSelect: 1,\n      shelf: []\n    };\n    return _this;\n  }\n\n  return HomeScreen;\n}(Component);","map":{"version":3,"sources":["/home/head/Desktop/Серега Младший/ITProjects/firstmobileappservices/client/screens/HomeScreen.js"],"names":["React","Component","useState","useEffect","_","Categories","Cards","CategoryItem","CardItem","Audio","styles","StyleSheet","create","container","flex","item","backgroundColor","padding","height","marginVertical","marginHorizontal","title","fontSize","HomeScreen","props","onCatPress","console","log","setState","catSelect","key","state","onCardPress","notify","setSound","shelf","push","sound","music","Sound","createAsync","uri","asyncPlay","renderCat","bind","renderCard","render","sortedCat","filter","alignItems","justifyContent","id","toString","navigation"],"mappings":"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","sourcesContent":["import React, {Component, useState, useEffect} from 'react';\nimport { Button, View, Text, SafeAreaView, FlatList, StyleSheet, StatusBar } from 'react-native';\nimport _ from \"lodash\";\nimport {Categories} from \"../data/Categories\";\nimport {Cards} from \"../data/Cards\";\nimport {CategoryItem} from \"../components/CategoryItem\";\nimport {CardItem} from \"../components/CardItem\";\nimport { Audio } from 'expo-av';\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n    },\n    item: {\n        backgroundColor: '#c2e3ff',\n        padding: 20,\n        height: 10,\n        marginVertical: 8,\n        marginHorizontal: 16,\n    },\n    title: {\n        fontSize: 12,\n    },\n})\n\nexport class HomeScreen extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {catSelect: 1, shelf:[]};\n    }\n\n    onCatPress = (item) => {\n        console.log('onCatPress');\n        this.setState({ catSelect: item.key });\n        console.log(this.state);\n    };\n    onCardPress = async (item) => {\n        const [notify, setSound] = useState(null);\n        console.log('onCardPress');\n        let shelf = this.state.shelf;\n        let music;\n        shelf.push(item);\n        this.setState({ shelf: shelf });\n        console.log(this.state.shelf);\n\n        if(item.sound != null) music = item.sound;\n        else music = '../../sounds/nosound.wav';\n\n        useEffect( async () => {\n            notify = await Audio.Sound.createAsync({ uri: music });\n            setSound(notify);\n            await notify.asyncPlay();\n        })\n    };\n\n    renderCat = ({item}) => {\n        return (\n            <CategoryItem\n                category={item}\n                onPress={this.onCatPress.bind(this, item)}\n            />\n        );\n    };\n\n    renderCard = ({item}) => {\n        return (\n            <CardItem\n                card={item}\n                onPress={this.onCardPress.bind(this, item)}\n            />\n        );\n    };\n\n    render = () => {\n        var sortedCat = _.filter(Cards, {'categorie': this.state.catSelect})\n    return (\n<View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n\n    <Text>Главный экран</Text>\n\n    <View style={styles.container}>\n        <FlatList\n            data={this.state.shelf}\n            renderItem={this.renderCard}\n            keyExtractor={item => item.id.toString()}\n            onPress={this.onCatPress.bind(this)}\n            horizontal={true}\n        />\n    </View>\n\n    <View style={styles.container}>\n        <FlatList\n            data={sortedCat}\n            renderItem={this.renderCard}\n            keyExtractor={item => item.id.toString()}\n            onPress={this.onCatPress.bind(this)}\n            horizontal={true}\n        />\n    </View>\n\n    <View style={styles.container}>\n        <FlatList\n            data={Categories}\n            renderItem={this.renderCat}\n            keyExtractor={item => item.key.toString()}\n            onPress={this.onCatPress.bind(this)}\n\n            horizontal={true}\n        />\n    </View>\n\n    <Button\n        title=\"Категории карточек\"\n        onPress={() => this.props.navigation.push('Categories')} />\n</View>\n\n\n\n    )\n    }\n}"]},"metadata":{},"sourceType":"module"}