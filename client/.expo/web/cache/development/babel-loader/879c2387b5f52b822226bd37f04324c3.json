{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _readOnlyError from \"@babel/runtime/helpers/readOnlyError\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/head/Desktop/\\u0421\\u0435\\u0440\\u0435\\u0433\\u0430 \\u041C\\u043B\\u0430\\u0434\\u0448\\u0438\\u0439/ITProjects/firstmobileappservices/client/screens/HomeScreen.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, useState, useEffect } from 'react';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport _ from \"lodash\";\nimport { Categories } from \"../data/Categories\";\nimport { Cards } from \"../data/Cards\";\nimport { CategoryItem } from \"../components/CategoryItem\";\nimport { CardItem } from \"../components/CardItem\";\nimport { Audio } from 'expo-av';\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  item: {\n    backgroundColor: '#c2e3ff',\n    padding: 20,\n    height: 10,\n    marginVertical: 8,\n    marginHorizontal: 16\n  },\n  title: {\n    fontSize: 12\n  }\n});\nexport var HomeScreen = function (_Component) {\n  _inherits(HomeScreen, _Component);\n\n  var _super = _createSuper(HomeScreen);\n\n  function HomeScreen(props) {\n    var _this;\n\n    _classCallCheck(this, HomeScreen);\n\n    _this = _super.call(this, props);\n\n    _this.onCatPress = function (item) {\n      console.log('onCatPress');\n\n      _this.setState({\n        catSelect: item.key\n      });\n\n      console.log(_this.state);\n    };\n\n    _this.onCardPress = function (item) {\n      console.log('onCardPress');\n      var shelf = _this.state.shelf;\n      var music;\n      shelf.push(item);\n\n      _this.setState({\n        shelf: shelf\n      });\n\n      console.log(_this.state.shelf);\n      if (item.sound != null) music = item.sound;else music = '../../sounds/nosound.wav';\n      useEffect(function _callee() {\n        var _ref, _ref2, notify, setSound;\n\n        return _regeneratorRuntime.async(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _ref = useState < any > null, _ref2 = _slicedToArray(_ref, 2), notify = _ref2[0], setSound = _ref2[1];\n                _context.next = 3;\n                return _regeneratorRuntime.awrap(Audio.Sound.createAsync({\n                  uri: music\n                }));\n\n              case 3:\n                _readOnlyError(\"notify\");\n\n                setSound(notify);\n                _context.next = 7;\n                return _regeneratorRuntime.awrap(notify.asyncPlay());\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      });\n    };\n\n    _this.renderCat = function (_ref3) {\n      var item = _ref3.item;\n      return React.createElement(CategoryItem, {\n        category: item,\n        onPress: _this.onCatPress.bind(_assertThisInitialized(_this), item),\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      });\n    };\n\n    _this.renderCard = function (_ref4) {\n      var item = _ref4.item;\n      return React.createElement(CardItem, {\n        card: item,\n        onPress: _this.onCardPress.bind(_assertThisInitialized(_this), item),\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      });\n    };\n\n    _this.render = function () {\n      var sortedCat = _.filter(Cards, {\n        'categorie': _this.state.catSelect\n      });\n\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 1\n        }\n      }, React.createElement(Text, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 5\n        }\n      }, \"\\u0413\\u043B\\u0430\\u0432\\u043D\\u044B\\u0439 \\u044D\\u043A\\u0440\\u0430\\u043D\"), React.createElement(View, {\n        style: styles.container,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 5\n        }\n      }, React.createElement(FlatList, {\n        data: _this.state.shelf,\n        renderItem: _this.renderCard,\n        keyExtractor: function keyExtractor(item) {\n          return item.id.toString();\n        },\n        onPress: _this.onCatPress.bind(_assertThisInitialized(_this)),\n        horizontal: true,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      })), React.createElement(View, {\n        style: styles.container,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 5\n        }\n      }, React.createElement(FlatList, {\n        data: sortedCat,\n        renderItem: _this.renderCard,\n        keyExtractor: function keyExtractor(item) {\n          return item.id.toString();\n        },\n        onPress: _this.onCatPress.bind(_assertThisInitialized(_this)),\n        horizontal: true,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }\n      })), React.createElement(View, {\n        style: styles.container,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 5\n        }\n      }, React.createElement(FlatList, {\n        data: Categories,\n        renderItem: _this.renderCat,\n        keyExtractor: function keyExtractor(item) {\n          return item.key.toString();\n        },\n        onPress: _this.onCatPress.bind(_assertThisInitialized(_this)),\n        horizontal: true,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }\n      })), React.createElement(Button, {\n        title: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438 \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u0435\\u043A\",\n        onPress: function onPress() {\n          return _this.props.navigation.push('Categories');\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 5\n        }\n      }));\n    };\n\n    _this.state = {\n      catSelect: 1,\n      shelf: []\n    };\n    return _this;\n  }\n\n  return HomeScreen;\n}(Component);","map":{"version":3,"sources":["/home/head/Desktop/Серега Младший/ITProjects/firstmobileappservices/client/screens/HomeScreen.js"],"names":["React","Component","useState","useEffect","_","Categories","Cards","CategoryItem","CardItem","Audio","styles","StyleSheet","create","container","flex","item","backgroundColor","padding","height","marginVertical","marginHorizontal","title","fontSize","HomeScreen","props","onCatPress","console","log","setState","catSelect","key","state","onCardPress","shelf","music","push","sound","any","notify","setSound","Sound","createAsync","uri","asyncPlay","renderCat","bind","renderCard","render","sortedCat","filter","alignItems","justifyContent","id","toString","navigation"],"mappings":"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","sourcesContent":["import React, {Component, useState, useEffect} from 'react';\nimport { Button, View, Text, SafeAreaView, FlatList, StyleSheet, StatusBar } from 'react-native';\nimport _ from \"lodash\";\nimport {Categories} from \"../data/Categories\";\nimport {Cards} from \"../data/Cards\";\nimport {CategoryItem} from \"../components/CategoryItem\";\nimport {CardItem} from \"../components/CardItem\";\nimport { Audio } from 'expo-av';\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n    },\n    item: {\n        backgroundColor: '#c2e3ff',\n        padding: 20,\n        height: 10,\n        marginVertical: 8,\n        marginHorizontal: 16,\n    },\n    title: {\n        fontSize: 12,\n    },\n})\n\nexport class HomeScreen extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {catSelect: 1, shelf:[]};\n    }\n\n    onCatPress = (item) => {\n        console.log('onCatPress');\n        this.setState({ catSelect: item.key });\n        console.log(this.state);\n    };\n    onCardPress = (item) => {\n        console.log('onCardPress');\n        let shelf = this.state.shelf;\n        let music;\n        shelf.push(item);\n        this.setState({ shelf: shelf });\n        console.log(this.state.shelf);\n\n        if(item.sound != null) music = item.sound;\n        else music = '../../sounds/nosound.wav';\n\n        useEffect( async () => {\n            const [notify, setSound] = useState<any>(null);\n            notify = await Audio.Sound.createAsync({ uri: music });\n            setSound(notify);\n            await notify.asyncPlay();\n        })\n    };\n\n    renderCat = ({item}) => {\n        return (\n            <CategoryItem\n                category={item}\n                onPress={this.onCatPress.bind(this, item)}\n            />\n        );\n    };\n\n    renderCard = ({item}) => {\n        return (\n            <CardItem\n                card={item}\n                onPress={this.onCardPress.bind(this, item)}\n            />\n        );\n    };\n\n    render = () => {\n        var sortedCat = _.filter(Cards, {'categorie': this.state.catSelect})\n    return (\n<View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n\n    <Text>Главный экран</Text>\n\n    <View style={styles.container}>\n        <FlatList\n            data={this.state.shelf}\n            renderItem={this.renderCard}\n            keyExtractor={item => item.id.toString()}\n            onPress={this.onCatPress.bind(this)}\n            horizontal={true}\n        />\n    </View>\n\n    <View style={styles.container}>\n        <FlatList\n            data={sortedCat}\n            renderItem={this.renderCard}\n            keyExtractor={item => item.id.toString()}\n            onPress={this.onCatPress.bind(this)}\n            horizontal={true}\n        />\n    </View>\n\n    <View style={styles.container}>\n        <FlatList\n            data={Categories}\n            renderItem={this.renderCat}\n            keyExtractor={item => item.key.toString()}\n            onPress={this.onCatPress.bind(this)}\n\n            horizontal={true}\n        />\n    </View>\n\n    <Button\n        title=\"Категории карточек\"\n        onPress={() => this.props.navigation.push('Categories')} />\n</View>\n\n\n\n    )\n    }\n}"]},"metadata":{},"sourceType":"module"}