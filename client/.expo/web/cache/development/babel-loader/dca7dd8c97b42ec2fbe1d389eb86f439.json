{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/head/Desktop/\\u0421\\u0435\\u0440\\u0435\\u0433\\u0430 \\u041C\\u043B\\u0430\\u0434\\u0448\\u0438\\u0439/ITProjects/firstmobileappservices/client/screens/HomeScreen.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport _ from \"lodash\";\nimport { Categories } from \"../data/Categories\";\nimport { Cards } from \"../data/Cards\";\nimport { CategoryItem } from \"../components/CategoryItem\";\nimport { CardItem } from \"../components/CardItem\";\nimport { Audio } from 'expo-av';\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  item: {\n    backgroundColor: '#c2e3ff',\n    padding: 20,\n    height: 10,\n    marginVertical: 8,\n    marginHorizontal: 16\n  },\n  title: {\n    fontSize: 12\n  }\n});\nexport var HomeScreen = function (_Component) {\n  _inherits(HomeScreen, _Component);\n\n  var _super = _createSuper(HomeScreen);\n\n  function HomeScreen(props) {\n    var _this;\n\n    _classCallCheck(this, HomeScreen);\n\n    _this = _super.call(this, props);\n\n    _this.onCatPress = function (item) {\n      console.log('onCatPress');\n\n      _this.setState({\n        catSelect: item.key\n      });\n\n      console.log(_this.state);\n    };\n\n    _this.onCardPress = function _callee(item) {\n      var shelf, _await$Audio$Sound$cr, notify;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log('onCardPress');\n              shelf = _this.state.shelf;\n              shelf.push(item);\n\n              _this.setState({\n                shelf: shelf\n              });\n\n              console.log(_this.state.shelf);\n              if (item.sound != null) music = item.sound;else music = '../../sounds/nosound.wav';\n              _context.next = 8;\n              return _regeneratorRuntime.awrap(Audio.Sound.createAsync(require(music)));\n\n            case 8:\n              _await$Audio$Sound$cr = _context.sent;\n              notify = _await$Audio$Sound$cr.notify;\n              _context.next = 12;\n              return _regeneratorRuntime.awrap(notify.asyncPlay());\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.renderCat = function (_ref) {\n      var item = _ref.item;\n      return React.createElement(CategoryItem, {\n        category: item,\n        onPress: _this.onCatPress.bind(_assertThisInitialized(_this), item),\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }\n      });\n    };\n\n    _this.renderCard = function (_ref2) {\n      var item = _ref2.item;\n      return React.createElement(CardItem, {\n        card: item,\n        onPress: _this.onCardPress.bind(_assertThisInitialized(_this), item),\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }\n      });\n    };\n\n    _this.render = function () {\n      var sortedCat = _.filter(Cards, {\n        'categorie': _this.state.catSelect\n      });\n\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 1\n        }\n      }, React.createElement(Text, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 5\n        }\n      }, \"\\u0413\\u043B\\u0430\\u0432\\u043D\\u044B\\u0439 \\u044D\\u043A\\u0440\\u0430\\u043D\"), React.createElement(View, {\n        style: styles.container,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 5\n        }\n      }, React.createElement(FlatList, {\n        data: _this.state.shelf,\n        renderItem: _this.renderCard,\n        keyExtractor: function keyExtractor(item) {\n          return item.id.toString();\n        },\n        onPress: _this.onCatPress.bind(_assertThisInitialized(_this)),\n        horizontal: true,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }\n      })), React.createElement(View, {\n        style: styles.container,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 5\n        }\n      }, React.createElement(FlatList, {\n        data: sortedCat,\n        renderItem: _this.renderCard,\n        keyExtractor: function keyExtractor(item) {\n          return item.id.toString();\n        },\n        onPress: _this.onCatPress.bind(_assertThisInitialized(_this)),\n        horizontal: true,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }\n      })), React.createElement(View, {\n        style: styles.container,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 5\n        }\n      }, React.createElement(FlatList, {\n        data: Categories,\n        renderItem: _this.renderCat,\n        keyExtractor: function keyExtractor(item) {\n          return item.key.toString();\n        },\n        onPress: _this.onCatPress.bind(_assertThisInitialized(_this)),\n        horizontal: true,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 9\n        }\n      })), React.createElement(Button, {\n        title: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438 \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u0435\\u043A\",\n        onPress: function onPress() {\n          return _this.props.navigation.push('Categories');\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 5\n        }\n      }));\n    };\n\n    _this.state = {\n      catSelect: 1,\n      shelf: []\n    };\n    return _this;\n  }\n\n  return HomeScreen;\n}(Component);","map":{"version":3,"sources":["/home/head/Desktop/Серега Младший/ITProjects/firstmobileappservices/client/screens/HomeScreen.js"],"names":["React","Component","_","Categories","Cards","CategoryItem","CardItem","Audio","styles","StyleSheet","create","container","flex","item","backgroundColor","padding","height","marginVertical","marginHorizontal","title","fontSize","HomeScreen","props","onCatPress","console","log","setState","catSelect","key","state","onCardPress","shelf","push","sound","music","Sound","createAsync","require","notify","asyncPlay","renderCat","bind","renderCard","render","sortedCat","filter","alignItems","justifyContent","id","toString","navigation"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { Button, View, Text, SafeAreaView, FlatList, StyleSheet, StatusBar } from 'react-native';\nimport _ from \"lodash\";\nimport {Categories} from \"../data/Categories\";\nimport {Cards} from \"../data/Cards\";\nimport {CategoryItem} from \"../components/CategoryItem\";\nimport {CardItem} from \"../components/CardItem\";\nimport { Audio } from 'expo-av';\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n    },\n    item: {\n        backgroundColor: '#c2e3ff',\n        padding: 20,\n        height: 10,\n        marginVertical: 8,\n        marginHorizontal: 16,\n    },\n    title: {\n        fontSize: 12,\n    },\n})\n\nexport class HomeScreen extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {catSelect: 1, shelf:[]};\n    }\n\n    onCatPress = (item) => {\n        console.log('onCatPress');\n        this.setState({ catSelect: item.key });\n        console.log(this.state);\n    };\n\n    onCardPress = async (item) => {\n        console.log('onCardPress');\n        let shelf = this.state.shelf;\n        shelf.push(item);\n        this.setState({ shelf: shelf });\n        console.log(this.state.shelf);\n\n        if(item.sound != null) music = item.sound;\n        else music = '../../sounds/nosound.wav';\n\n        const { notify } = await Audio.Sound.createAsync(\n            require(music)\n        );\n\n        await notify.asyncPlay();\n    };\n\n    renderCat = ({item}) => {\n        return (\n            <CategoryItem\n                category={item}\n                onPress={this.onCatPress.bind(this, item)}\n            />\n        );\n    };\n\n    renderCard = ({item}) => {\n        return (\n            <CardItem\n                card={item}\n                onPress={this.onCardPress.bind(this, item)}\n            />\n        );\n    };\n\n    render = () => {\n        var sortedCat = _.filter(Cards, {'categorie': this.state.catSelect})\n    return (\n<View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n\n    <Text>Главный экран</Text>\n\n    <View style={styles.container}>\n        <FlatList\n            data={this.state.shelf}\n            renderItem={this.renderCard}\n            keyExtractor={item => item.id.toString()}\n            onPress={this.onCatPress.bind(this)}\n            horizontal={true}\n        />\n    </View>\n\n    <View style={styles.container}>\n        <FlatList\n            data={sortedCat}\n            renderItem={this.renderCard}\n            keyExtractor={item => item.id.toString()}\n            onPress={this.onCatPress.bind(this)}\n            horizontal={true}\n        />\n    </View>\n\n    <View style={styles.container}>\n        <FlatList\n            data={Categories}\n            renderItem={this.renderCat}\n            keyExtractor={item => item.key.toString()}\n            onPress={this.onCatPress.bind(this)}\n\n            horizontal={true}\n        />\n    </View>\n\n    <Button\n        title=\"Категории карточек\"\n        onPress={() => this.props.navigation.push('Categories')} />\n</View>\n\n\n\n    )\n    }\n}"]},"metadata":{},"sourceType":"module"}